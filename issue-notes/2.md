# issue LLMが生成したコード進行をある程度認識できるようにする #2
[issues #2](https://github.com/cat2151/chord2mml/issues/2)

# これまでの課題
- 例
  - ii-vi
    - マイナーコードの小文字表記
    - ハイフン区切り

# 対策案
- いろいろ課題がありそう
  - 対策、レアケースでuser期待どおりに動作しないものをtest caseとして可視化し、割り切る想定
- プリプロセッサ
 - 一度トランスパイルする
 - errorになった場合、以下を行う
   - 全体を「-」を「・」に置き換えてトランスパイルする
     - エラーがなくなったらそれを利用する
   - 全体を「vii」を「VIIm」、「vi」を「VIm」、「v」を...と、変換順に注意して、VII～Iを変換する
     - エラーがなくなったらそれを利用する
- プロンプト「上記を実現するためにブレインストーミングしてみてください」

# LLM生成結果をみた
- NG、NG内容は、全体の再設計レベルの漠然とした回答であること
- プロンプト「上記を実装するとして、実装方法をブレインストーミングしてみてください。上記のトランスパイルとは、chord2mml_chord2ast.pegjsにデータをわたすことを意味します。つまり、chord2mml_chord2ast.pegjsとその下流の処理は維持します。このproject内のソースでは実現できず、project外のeasychord2mmlの変更が必要かもしれません。それも踏まえて検討してください」

# LLM生成結果をみた
- NG、NG内容は、userの記述の受け売りにとどまる上に、意味のない脱線が含まれた回答であること
- ここでプロンプトエンジニアリングしても埒が明かない、時間のムダだと判断する
- このprojectだけでは、LLMに与える素材としては不足と判断する
- easychord2mmlを見る

# みた
- easychord2mml側でできた
- こっちはクローズする

↑あとでやる
