(()=>{"use strict";var r,e,t={699:r=>{function e(r,t,n,o){var a=Error.call(this,r);return Object.setPrototypeOf&&Object.setPrototypeOf(a,e.prototype),a.expected=t,a.found=n,a.location=o,a.name="SyntaxError",a}function t(r,e,t){return t=t||" ",r.length>e?r:(e-=r.length,r+(t+=t.repeat(e)).slice(0,e))}!function(r,e){function t(){this.constructor=r}t.prototype=e.prototype,r.prototype=new t}(e,Error),e.prototype.format=function(r){var e="Error: "+this.message;if(this.location){var n,o=null;for(n=0;n<r.length;n++)if(r[n].source===this.location.source){o=r[n].text.split(/\r\n|\n|\r/g);break}var a=this.location.start,c=this.location.source&&"function"==typeof this.location.source.offset?this.location.source.offset(a):a,u=this.location.source+":"+c.line+":"+c.column;if(o){var i=this.location.end,s=t("",c.line.toString().length," "),l=o[a.line-1],f=(a.line===i.line?i.column:l.length+1)-a.column||1;e+="\n --\x3e "+u+"\n"+s+" |\n"+c.line+" | "+l+"\n"+s+" | "+t("",a.column-1," ")+t("",f,"^")}else e+="\n at "+u}return e},e.buildMessage=function(r,e){var t={literal:function(r){return'"'+o(r.text)+'"'},class:function(r){var e=r.parts.map((function(r){return Array.isArray(r)?a(r[0])+"-"+a(r[1]):a(r)}));return"["+(r.inverted?"^":"")+e.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(r){return r.description}};function n(r){return r.charCodeAt(0).toString(16).toUpperCase()}function o(r){return r.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(r){return"\\x0"+n(r)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(r){return"\\x"+n(r)}))}function a(r){return r.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(r){return"\\x0"+n(r)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(r){return"\\x"+n(r)}))}function c(r){return t[r.type](r)}return"Expected "+function(r){var e,t,n=r.map(c);if(n.sort(),n.length>0){for(e=1,t=1;e<n.length;e++)n[e-1]!==n[e]&&(n[t]=n[e],t++);n.length=t}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}(r)+" but "+function(r){return r?'"'+o(r)+'"':"end of input"}(e)+" found."},r.exports={SyntaxError:e,parse:function(r,t){var n,o,a,c,u={},i=(t=void 0!==t?t:{}).grammarSource,s={CHORDS:N},l=N,f="maj",p="M",h="maj7",g="△",v=/^[A-G]/,d=/^[#\uFF03\u266F]/,b=/^[b\u266D]/,m=/^[ \t\n\r]/,x=z([["A","G"]],!1,!1),y=z(["#","＃","♯"],!1,!1),A=z(["b","♭"],!1,!1),k=q("maj",!0),w=q("M",!1),j=q("maj7",!0),C=q("△",!1),F={type:"other",description:"whitespace"},E=z([" ","\t","\n","\r"],!1,!1),S=function(r,e){return{root:r,chordType:e}},M=function(r,e,t){let n;switch(r){case"C":n=0;break;case"D":n=2;break;case"E":n=4;break;case"F":n=5;break;case"G":n=7;break;case"A":n=9;break;case"B":n=11}return n+=e.length-t.length,n%=12,n},O=function(){return"#"},R=function(){return"b"},D=function(r){return r},G=function(){return"maj"},L=function(){return"maj7"},P=0,T=[{line:1,column:1}],B=0,H=[],U=0;if("startRule"in t){if(!(t.startRule in s))throw new Error("Can't start parsing from rule \""+t.startRule+'".');l=s[t.startRule]}function q(r,e){return{type:"literal",text:r,ignoreCase:e}}function z(r,e,t){return{type:"class",parts:r,inverted:e,ignoreCase:t}}function I(e){var t,n=T[e];if(n)return n;for(t=e-1;!T[t];)t--;for(n={line:(n=T[t]).line,column:n.column};t<e;)10===r.charCodeAt(t)?(n.line++,n.column=1):n.column++,t++;return T[e]=n,n}function J(r,e,t){var n=I(r),o=I(e),a={source:i,start:{offset:r,line:n.line,column:n.column},end:{offset:e,line:o.line,column:o.column}};return t&&i&&"function"==typeof i.offset&&(a.start=i.offset(a.start),a.end=i.offset(a.end)),a}function K(r){P<B||(P>B&&(B=P,H=[]),H.push(r))}function N(){var r,e;for(r=[],e=Q();e!==u;)r.push(e),e=Q();return r}function Q(){var e,t,n,o;return e=P,X(),t=function(){var e,t,n,o,a;if(e=P,v.test(r.charAt(P))?(t=r.charAt(P),P++):(t=u,0===U&&K(x)),t!==u){for(n=[],o=V();o!==u;)n.push(o),o=V();for(o=[],a=W();a!==u;)o.push(a),a=W();e=M(t,n,o)}else P=e,e=u;return e}(),t!==u?((o=function(){var e;return r.substr(P,4).toLowerCase()===h?(e=r.substr(P,4),P+=4):(e=u,0===U&&K(j)),e===u&&(9651===r.charCodeAt(P)?(e=g,P++):(e=u,0===U&&K(C))),e!==u&&(e=L()),e}())===u&&(o=function(){var e;return r.substr(P,3).toLowerCase()===f?(e=r.substr(P,3),P+=3):(e=u,0===U&&K(k)),e===u&&(77===r.charCodeAt(P)?(e=p,P++):(e=u,0===U&&K(w)),e===u&&(e="")),e!==u&&(e=G()),e}()),o!==u&&(o=D(o)),(n=o)!==u?(X(),e=S(t,n)):(P=e,e=u)):(P=e,e=u),e}function V(){var e;return P,d.test(r.charAt(P))?(e=r.charAt(P),P++):(e=u,0===U&&K(y)),e!==u&&(e=O()),e}function W(){var e;return P,b.test(r.charAt(P))?(e=r.charAt(P),P++):(e=u,0===U&&K(A)),e!==u&&(e=R()),e}function X(){var e,t;for(U++,e=[],m.test(r.charAt(P))?(t=r.charAt(P),P++):(t=u,0===U&&K(E));t!==u;)e.push(t),m.test(r.charAt(P))?(t=r.charAt(P),P++):(t=u,0===U&&K(E));return U--,t=u,0===U&&K(F),e}if((n=l())!==u&&P===r.length)return n;throw n!==u&&P<r.length&&K({type:"end"}),o=H,a=B<r.length?r.charAt(B):null,c=B<r.length?J(B,B+1):J(B,B),new e(e.buildMessage(o,a),o,a,c)}}}},n={};r=function r(e){var o=n[e];if(void 0!==o)return o.exports;var a=n[e]={exports:{}};return t[e](a,a.exports,r),a.exports}(699),(e={parse:r.parse}).parse=function(e){var t=function(r){for(var e=[],t=0;t<r.length;t++){var n=r[t],o=[];switch(n.chordType){case"maj":o=[0,4,7];break;case"maj7":o=[0,4,7,11]}for(var a=0;a<o.length;a++)o[a]+=n.root;e.push(o)}return e}((0,r.parse)(e)),n=function(r){for(var e="",t=0;t<r.length;t++){var n=r[t],o=0;n.length&&(e+="'");for(var a=0;a<n.length;a++){var c=n[a],u=Math.floor(c/12);switch(u>o&&(e+="<",o=u),c%12){case 0:e+="c";break;case 1:e+="c+";break;case 2:e+="d";break;case 3:e+="d+";break;case 4:e+="e";break;case 5:e+="f";break;case 6:e+="f+";break;case 7:e+="g";break;case 8:e+="g+";break;case 9:e+="a";break;case 10:e+="a+";break;case 11:e+="b"}}n.length&&(e+="'")}return e}(t);return n},void 0!==typeof window&&(window.chord2mml=e)})();