!function(r,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t=e();for(var n in t)("object"==typeof exports?exports:r)[n]=t[n]}}(self,(()=>(()=>{"use strict";var r={699:r=>{function e(r,t,n,o){var a=Error.call(this,r);return Object.setPrototypeOf&&Object.setPrototypeOf(a,e.prototype),a.expected=t,a.found=n,a.location=o,a.name="SyntaxError",a}function t(r,e,t){return t=t||" ",r.length>e?r:(e-=r.length,r+(t+=t.repeat(e)).slice(0,e))}!function(r,e){function t(){this.constructor=r}t.prototype=e.prototype,r.prototype=new t}(e,Error),e.prototype.format=function(r){var e="Error: "+this.message;if(this.location){var n,o=null;for(n=0;n<r.length;n++)if(r[n].source===this.location.source){o=r[n].text.split(/\r\n|\n|\r/g);break}var a=this.location.start,u=this.location.source&&"function"==typeof this.location.source.offset?this.location.source.offset(a):a,c=this.location.source+":"+u.line+":"+u.column;if(o){var i=this.location.end,s=t("",u.line.toString().length," "),l=o[a.line-1],f=(a.line===i.line?i.column:l.length+1)-a.column||1;e+="\n --\x3e "+c+"\n"+s+" |\n"+u.line+" | "+l+"\n"+s+" | "+t("",a.column-1," ")+t("",f,"^")}else e+="\n at "+c}return e},e.buildMessage=function(r,e){var t={literal:function(r){return'"'+o(r.text)+'"'},class:function(r){var e=r.parts.map((function(r){return Array.isArray(r)?a(r[0])+"-"+a(r[1]):a(r)}));return"["+(r.inverted?"^":"")+e.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(r){return r.description}};function n(r){return r.charCodeAt(0).toString(16).toUpperCase()}function o(r){return r.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(r){return"\\x0"+n(r)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(r){return"\\x"+n(r)}))}function a(r){return r.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(r){return"\\x0"+n(r)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(r){return"\\x"+n(r)}))}function u(r){return t[r.type](r)}return"Expected "+function(r){var e,t,n=r.map(u);if(n.sort(),n.length>0){for(e=1,t=1;e<n.length;e++)n[e-1]!==n[e]&&(n[t]=n[e],t++);n.length=t}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}(r)+" but "+function(r){return r?'"'+o(r)+'"':"end of input"}(e)+" found."},r.exports={SyntaxError:e,parse:function(r,t){var n,o,a,u,c={},i=(t=void 0!==t?t:{}).grammarSource,s={CHORDS:V},l=V,f="/",p="maj",h="M",g="maj7",v="△",d=/^[A-G]/,b=/^[#\uFF03\u266F]/,m=/^[b\u266D]/,y=/^[ \t\n\r]/,x=z("/",!1),A=I([["A","G"]],!1,!1),k=I(["#","＃","♯"],!1,!1),j=I(["b","♭"],!1,!1),w=z("maj",!0),C=z("M",!1),F=z("maj7",!0),S=z("△",!1),O={type:"other",description:"whitespace"},R=I([" ","\t","\n","\r"],!1,!1),E=function(r,e){return{event:"chord",root:r,quality:e}},M=function(r,e,t,n){return{event:"slash chord",upperRoot:r,upperQuality:e,lowerRoot:t,lowerQuality:n}},P=function(r,e,t){let n;switch(r){case"C":n=0;break;case"D":n=2;break;case"E":n=4;break;case"F":n=5;break;case"G":n=7;break;case"A":n=9;break;case"B":n=11}return n+=e.length-t.length,n%=12,n},D=function(){return"#"},G=function(){return"b"},Q=function(r){return r},q=function(){return"maj"},L=function(){return"maj7"},T=0,_=[{line:1,column:1}],B=0,H=[],U=0;if("startRule"in t){if(!(t.startRule in s))throw new Error("Can't start parsing from rule \""+t.startRule+'".');l=s[t.startRule]}function z(r,e){return{type:"literal",text:r,ignoreCase:e}}function I(r,e,t){return{type:"class",parts:r,inverted:e,ignoreCase:t}}function J(e){var t,n=_[e];if(n)return n;for(t=e-1;!_[t];)t--;for(n={line:(n=_[t]).line,column:n.column};t<e;)10===r.charCodeAt(t)?(n.line++,n.column=1):n.column++,t++;return _[e]=n,n}function K(r,e,t){var n=J(r),o=J(e),a={source:i,start:{offset:r,line:n.line,column:n.column},end:{offset:e,line:o.line,column:o.column}};return t&&i&&"function"==typeof i.offset&&(a.start=i.offset(a.start),a.end=i.offset(a.end)),a}function N(r){T<B||(T>B&&(B=T,H=[]),H.push(r))}function V(){var r,e;for(r=[],e=W();e!==c;)r.push(e),e=W();return r}function W(){var e;return(e=function(){var e,t,n,o,a,u;return e=T,rr(),(t=X())!==c&&(n=$())!==c?(47===r.charCodeAt(T)?(o=f,T++):(o=c,0===U&&N(x)),o!==c&&(a=X())!==c&&(u=$())!==c?(rr(),e=M(t,n,a,u)):(T=e,e=c)):(T=e,e=c),e}())===c&&(e=function(){var r,e,t;return r=T,rr(),(e=X())!==c&&(t=$())!==c?(rr(),r=E(e,t)):(T=r,r=c),r}()),e}function X(){var e,t,n,o,a;if(e=T,d.test(r.charAt(T))?(t=r.charAt(T),T++):(t=c,0===U&&N(A)),t!==c){for(n=[],o=Y();o!==c;)n.push(o),o=Y();for(o=[],a=Z();a!==c;)o.push(a),a=Z();e=P(t,n,o)}else T=e,e=c;return e}function Y(){var e;return T,b.test(r.charAt(T))?(e=r.charAt(T),T++):(e=c,0===U&&N(k)),e!==c&&(e=D()),e}function Z(){var e;return T,m.test(r.charAt(T))?(e=r.charAt(T),T++):(e=c,0===U&&N(j)),e!==c&&(e=G()),e}function $(){var e;return T,(e=function(){var e;return T,r.substr(T,4).toLowerCase()===g?(e=r.substr(T,4),T+=4):(e=c,0===U&&N(F)),e===c&&(9651===r.charCodeAt(T)?(e=v,T++):(e=c,0===U&&N(S))),e!==c&&(e=L()),e}())===c&&(e=function(){var e;return T,r.substr(T,3).toLowerCase()===p?(e=r.substr(T,3),T+=3):(e=c,0===U&&N(w)),e===c&&(77===r.charCodeAt(T)?(e=h,T++):(e=c,0===U&&N(C)),e===c&&(e="")),e!==c&&(e=q()),e}()),e!==c&&(e=Q(e)),e}function rr(){var e,t;for(U++,e=[],y.test(r.charAt(T))?(t=r.charAt(T),T++):(t=c,0===U&&N(R));t!==c;)e.push(t),y.test(r.charAt(T))?(t=r.charAt(T),T++):(t=c,0===U&&N(R));return U--,t=c,0===U&&N(O),e}if((n=l())!==c&&T===r.length)return n;throw n!==c&&T<r.length&&N({type:"end"}),o=H,a=B<r.length?r.charAt(B):null,u=B<r.length?K(B,B+1):K(B,B),new e(e.buildMessage(o,a),o,a,u)}}}},e={};function t(n){var o=e[n];if(void 0!==o)return o.exports;var a=e[n]={exports:{}};return r[n](a,a.exports,t),a.exports}t.d=(r,e)=>{for(var n in e)t.o(e,n)&&!t.o(r,n)&&Object.defineProperty(r,n,{enumerable:!0,get:e[n]})},t.o=(r,e)=>Object.prototype.hasOwnProperty.call(r,e),t.r=r=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})};var n={};return(()=>{t.r(n),t.d(n,{chord2mml:()=>u});var r=t(699);function e(r,e){var t=[];switch(e){case"maj":t=[0,4,7];break;case"maj7":t=[0,4,7,11]}return o(t,r)}function o(r,e){for(var t=0;t<r.length;t++)r[t]+=e;return r}function a(r,t,n){var a=[];a.push(n);var u=function(r,t,n){var a=e(r,t);return r<=n&&(a=o(a,12)),a}(r,t,n);return a.push.apply(a,u),a}var u={parse:(r.parse,function(t){var n=(0,r.parse)(t);return function(r){for(var e="",t=0;t<r.length;t++){var n=r[t],o=0;n.length&&(e+="'");for(var a=0;a<n.length;a++){var u=n[a],c=Math.floor(u/12);switch(c>o&&(e+="<",o=c),u%12){case 0:e+="c";break;case 1:e+="c+";break;case 2:e+="d";break;case 3:e+="d+";break;case 4:e+="e";break;case 5:e+="f";break;case 6:e+="f+";break;case 7:e+="g";break;case 8:e+="g+";break;case 9:e+="a";break;case 10:e+="a+";break;case 11:e+="b"}}n.length&&(e+="'")}return e}(function(r){for(var t=[],n=0;n<r.length;n++){var o=r[n],u=void 0;switch(o.event){case"chord":u=e(o.root,o.quality),t.push(u);break;case"compound chord":u=a(o.upperRoot,o.upperQuality,o.lowerRoot),t.push(u)}}return t}(n=function(r){for(var e=0;e<r.length;e++){var t=r[e];"slash chord"==t.event&&(t.event="compound chord")}return r}(n)))})}})(),n})()));